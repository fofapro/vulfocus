{"version":3,"sources":["webpack:///./src/views/manager/setting.vue?7b3f","webpack:///./src/api/setting.js","webpack:///src/views/manager/setting.vue","webpack:///./src/views/manager/setting.vue?1396","webpack:///./src/views/manager/setting.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","directives","name","rawName","value","expression","attrs","data","model","callback","$$v","$set","_v","staticClass","on","settingUpdate","staticRenderFns","settingGet","request","url","method","component"],"mappings":"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","file":"static/js/chunk-2d0bb1fd.03ae9f27.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"50%\"}},[_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"margin-top\":\"30px\"},attrs:{\"label-width\":\"170px\",\"model\":_vm.data,\"element-loading-text\":\"修改中\"}},[_c('el-form-item',{attrs:{\"label\":\"分享用户名\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{model:{value:(_vm.data.share_username),callback:function ($$v) {_vm.$set(_vm.data, \"share_username\", $$v)},expression:\"data.share_username\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":2,\"align\":\"center\"}},[_c('el-tooltip',{attrs:{\"content\":\"镜像分享时所需要的贡献用户名，建议设置为Github用户名，方便进行统计贡献。\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-question\"})])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Dockerhub 用户名\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{model:{value:(_vm.data.username),callback:function ($$v) {_vm.$set(_vm.data, \"username\", $$v)},expression:\"data.username\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":2,\"align\":\"center\"}},[_c('el-tooltip',{attrs:{\"content\":\"镜像分享时所需的登陆用户名，默认情况下无需修改。\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-question\"})])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Dockerhub Token\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{model:{value:(_vm.data.pwd),callback:function ($$v) {_vm.$set(_vm.data, \"pwd\", $$v)},expression:\"data.pwd\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":2,\"align\":\"center\"}},[_c('el-tooltip',{attrs:{\"content\":\"镜像分享时所需的登陆凭证，默认情况下无需修改。\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-question\"})])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"镜像过期时间（秒）\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{model:{value:(_vm.data.time),callback:function ($$v) {_vm.$set(_vm.data, \"time\", $$v)},expression:\"data.time\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":2,\"align\":\"center\"}},[_c('el-tooltip',{attrs:{\"content\":\"镜像获取时间，默认为 30 分钟，最小为 1 分钟，0 为永不过期，修改后下次启动镜像开始生效。\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-question\"})])],1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.settingUpdate}},[_vm._v(\"修改\")]),_vm._v(\" \"),_c('el-button',[_vm._v(\"取消\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '@/utils/request'\n\nexport function settingGet() {\n  return request({\n    url: '/setting/get',\n    method: 'get'\n  })\n}\n\nexport function settingUpdate(data) {\n  return request({\n    url: '/setting/update/',\n    method: 'post',\n    data\n  })\n}\n","<template>\n  <div style=\"width: 50%\">\n    <el-form label-width=\"170px\" style=\"margin-top: 30px\" v-loading=\"loading\" :model=\"data\" element-loading-text=\"修改中\">\n      <el-form-item label=\"分享用户名\">\n        <el-col :span=\"20\">\n          <el-input v-model=\"data.share_username\"></el-input>\n        </el-col>\n        <el-col :span=\"2\" align=\"center\">\n          <el-tooltip content=\"镜像分享时所需要的贡献用户名，建议设置为Github用户名，方便进行统计贡献。\" placement=\"top\">\n            <i class=\"el-icon-question\"></i>\n          </el-tooltip>\n        </el-col>\n      </el-form-item>\n      <el-form-item label=\"Dockerhub 用户名\">\n        <el-col :span=\"20\">\n          <el-input v-model=\"data.username\"></el-input>\n        </el-col>\n        <el-col :span=\"2\" align=\"center\">\n          <el-tooltip content=\"镜像分享时所需的登陆用户名，默认情况下无需修改。\" placement=\"top\">\n            <i class=\"el-icon-question\"></i>\n          </el-tooltip>\n        </el-col>\n      </el-form-item>\n      <el-form-item label=\"Dockerhub Token\">\n        <el-col :span=\"20\">\n          <el-input v-model=\"data.pwd\"></el-input>\n        </el-col>\n        <el-col :span=\"2\" align=\"center\">\n          <el-tooltip content=\"镜像分享时所需的登陆凭证，默认情况下无需修改。\" placement=\"top\">\n            <i class=\"el-icon-question\"></i>\n          </el-tooltip>\n        </el-col>\n      </el-form-item>\n      <el-form-item label=\"镜像过期时间（秒）\" >\n        <el-col :span=\"20\">\n          <el-input v-model=\"data.time\"></el-input>\n        </el-col>\n        <el-col :span=\"2\" align=\"center\">\n          <el-tooltip content=\"镜像获取时间，默认为 30 分钟，最小为 1 分钟，0 为永不过期，修改后下次启动镜像开始生效。\" placement=\"top\">\n            <i class=\"el-icon-question\"></i>\n          </el-tooltip>\n        </el-col>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"settingUpdate\">修改</el-button>\n        <el-button>取消</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\n  import { settingGet,settingUpdate } from \"@/api/setting\"\n  export default {\n    name: 'setting',\n    data() {\n      return {\n        loading: false,\n        data: {\n          share_username: '',\n          username: '',\n          pwd: '',\n          time: '1800'\n        }\n      };\n    },\n    created() {\n      this.initSetting()\n    },\n    methods:{\n      initSetting(){\n        settingGet().then(response => {\n          let rspData = response.data\n          if(rspData.status === 200){\n            this.data = rspData.data\n          }else{\n            for(let i; i < rspData.msg.length; i++){\n              this.$message({\n                message: rspData.msg[i],\n                type: \"info\",\n              })\n            }\n          }\n        })\n      },\n      settingUpdate(){\n        let formData = new FormData()\n        formData.set(\"username\", this.data.username)\n        formData.set(\"pwd\", this.data.pwd)\n        formData.set(\"time\", this.data.time)\n        formData.set(\"share_username\",this.data.share_username)\n        this.loading = true\n        settingUpdate(formData).then(response => {\n          let rspData = response.data\n          this.data = rspData.data\n          if(rspData.status === 200){\n            for(let i=0; i < rspData.msg.length; i++){\n              this.$message({\n                message: rspData.msg[i],\n                type: \"success\",\n              })\n            }\n          }else{\n            for(let i=0; i < rspData.msg.length; i++){\n              this.$message({\n                message: rspData.msg[i],\n                type: \"info\",\n              })\n            }\n          }\n          this.loading = false\n        })\n      }\n    }\n  }\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./setting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./setting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./setting.vue?vue&type=template&id=2de14e44&scoped=true&\"\nimport script from \"./setting.vue?vue&type=script&lang=js&\"\nexport * from \"./setting.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2de14e44\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}